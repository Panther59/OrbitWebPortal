<waiting *ngIf="loading" message="{{ 'Loading' + ('segment' | translate) + 'list...' }}"></waiting>
<div *ngIf="!loading">
  <div class="ItemMasterActionsContainer" *ngIf="!loading">
    <button class="hover-scale-5" color="primary" mat-raised-button (click)="addNewSegment()">
      {{ 'add_new_segment' | translate }}
    </button>
  </div>
  <div class="segmentContainer">
    <mat-card class="item" *ngFor="let seg of segments">
      <div class="segmentHeader">
        <span>Segment {{ seg.sequence }}</span>
        <button
          class="segmentHeaderActionButton hover-opacity-30-to-100"
          mat-icon-button
          aria-label="Actions"
          disableRipple="true"
          [matMenuTriggerFor]="segMenu"
          [matMenuTriggerData]="{seg}"
        >
          <mat-icon>more_vert</mat-icon>
        </button>
      </div>
      <mat-card-title>{{ seg.name }}</mat-card-title>
      <div class="lengthDisplayContainer">
        <div class="lengthDisplayContainerItem" *ngFor="let i of seg.maxLength | fill">X</div>
      </div>
    </mat-card>
  </div>
</div>

<mat-menu #segMenu="matMenu">
  <ng-template matMenuContent let-seg="seg">
    <button mat-menu-item (click)="editSegment(seg)">
      <span>Edit</span>
    </button>
    <button mat-menu-item (click)="deleteSegment(seg)">
      <span>Delete</span>
    </button>
  </ng-template>
</mat-menu>
